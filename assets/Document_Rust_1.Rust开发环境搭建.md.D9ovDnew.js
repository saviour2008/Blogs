import{_ as s,c as a,o as n,a4 as e}from"./chunks/framework.CZCMAXau.js";const t="/Blogs/assets/image-20240323203614206.CSwWm_Mr.png",g=JSON.parse('{"title":"1.Rust开发环境搭建","description":"","frontmatter":{},"headers":[],"relativePath":"Document/Rust/1.Rust开发环境搭建.md","filePath":"Document/Rust/1.Rust开发环境搭建.md","lastUpdated":1713420998000}'),l={name:"Document/Rust/1.Rust开发环境搭建.md"},o=e('<h1 id="_1-rust开发环境搭建" tabindex="-1">1.Rust开发环境搭建 <a class="header-anchor" href="#_1-rust开发环境搭建" aria-label="Permalink to &quot;1.Rust开发环境搭建&quot;">​</a></h1><p>Rust官网：<a href="https://www.rust-lang.org/zh-CN/" target="_blank" rel="noreferrer">Rust 程序设计语言 (rust-lang.org)</a></p><p>如果你觉得安装较为麻烦，只想体验一下的话，可以进入<a href="https://play.rust-lang.org/" target="_blank" rel="noreferrer">演练场</a>在线使用。</p><h2 id="_1-下载rust安装程序rustup" tabindex="-1">1.下载Rust安装程序rustup <a class="header-anchor" href="#_1-下载rust安装程序rustup" aria-label="Permalink to &quot;1.下载Rust安装程序rustup&quot;">​</a></h2><p>访问<a href="https://www.rust-lang.org/zh-CN/tools/install" target="_blank" rel="noreferrer">Rust官方网站</a>，下载适用于Windows的<code>rustup-init.exe</code>安装程序。</p><p>安装 Rust 的主要方式是通过 Rustup 这一工具，它既是一个 Rust 安装器又是一个版本管理工具。</p><p>教程：<a href="https://www.rust-lang.org/zh-CN/tools/install" target="_blank" rel="noreferrer">安装 Rust - Rust 程序设计语言 (rust-lang.org)</a></p><h3 id="_1-channel版本" tabindex="-1">1). channel版本 <a class="header-anchor" href="#_1-channel版本" aria-label="Permalink to &quot;1). channel版本&quot;">​</a></h3><p>Rust 发布在三个不同的 channel 上：stable、beta、nightly，简单说就是三种不同的版本。</p><ul><li>stable：Rust 的稳定版本，每 6 周发布一次。</li><li>beta：Rust 的公开测试版本，将是下一个 stable 版本。</li><li>nightly：每天更新，包含以一些实验性的新特性。</li></ul><h3 id="_2-toolchain" tabindex="-1">2). toolchain <a class="header-anchor" href="#_2-toolchain" aria-label="Permalink to &quot;2). toolchain&quot;">​</a></h3><p>一套 Rust 组件，包括编译器及其相关工具，并且包含 channel，版本及支持的平台信息。</p><h3 id="_3-target" tabindex="-1">3). target <a class="header-anchor" href="#_3-target" aria-label="Permalink to &quot;3). target&quot;">​</a></h3><p>指编译的目标平台，即：编译后的程序在哪种操作系统上运行。</p><h2 id="_2-运行安装程序rustup" tabindex="-1">2.运行安装程序rustup <a class="header-anchor" href="#_2-运行安装程序rustup" aria-label="Permalink to &quot;2.运行安装程序rustup&quot;">​</a></h2><p>双击运行<code>rustup-init.exe</code>，并按照屏幕上的指示进行操作。</p><p><img src="'+t+`" alt="image-20240323203614206"></p><p>按照提示，给出三个选项，分别是：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">1.</span><span style="color:#98C379;"> 默认安装</span></span>
<span class="line"><span style="color:#61AFEF;">2.</span><span style="color:#98C379;"> 自定义安装</span></span>
<span class="line"><span style="color:#61AFEF;">3.</span><span style="color:#98C379;"> 取消安装</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这里我么选择 2，进行自定义安装。</p><p>输入：<code>x86_64-pc-windows-gnu</code>，其他的默认。</p><p>最后会确认安装信息，回车进行安装，会从网上下载文件，所以安装过程需要保证网络正常。</p><h3 id="_4-component" tabindex="-1">4). component <a class="header-anchor" href="#_4-component" aria-label="Permalink to &quot;4). component&quot;">​</a></h3><p>toolchain 是由 component 组成的。</p><p>查看所有可用和已经安装的组件命令如下：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> component</span><span style="color:#98C379;"> list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>rustup 默认安装的组件：</p><ul><li>rustc：Rust 编译器。</li><li>rust-std：Rust 标准库。</li><li>cargo：包管理和构建工具。</li><li>rust-docs：Rust 文档。</li><li>rustfmt：用来格式化 Rust 源代码。</li><li>clippy：Rust 的代码检查工具。</li></ul><h3 id="_5-profile" tabindex="-1">5). profile <a class="header-anchor" href="#_5-profile" aria-label="Permalink to &quot;5). profile&quot;">​</a></h3><p>为了方便对 component 进行管理，使用 profile 定义一组 component。</p><p>不同的 profile 包含不同的组件，安装 rustup 时有三种 profile 可选：</p><table><thead><tr><th>Profile</th><th>components</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><p>修改 profile 命令如下：</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span>rustup set profile minimal</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_3-验证安装" tabindex="-1">3.验证安装 <a class="header-anchor" href="#_3-验证安装" aria-label="Permalink to &quot;3.验证安装&quot;">​</a></h2><p>在命令提示符或终端中输入验证Rust是否正确安装。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">rustc</span><span style="color:#D19A66;"> --version</span></span>
<span class="line"><span style="color:#61AFEF;">cargo</span><span style="color:#D19A66;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_4-配置c-构建工具" tabindex="-1">4.配置C++构建工具 <a class="header-anchor" href="#_4-配置c-构建工具" aria-label="Permalink to &quot;4.配置C++构建工具&quot;">​</a></h2><p>在安装过程中，可能需要安装Microsoft C++构建工具。</p><p>默认情况，Rust 依赖 <code>C++ build tools</code>，没有安装也关系。</p><p><a href="https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/" target="_blank" rel="noreferrer">Microsoft C++ 生成工具 - Visual Studio</a></p><p>点击链接进入页面后，点击<code>下载生成工具</code>，然后就和正常安装包一样安装即可。</p><h2 id="_5-配置环境变量" tabindex="-1">5.配置环境变量 <a class="header-anchor" href="#_5-配置环境变量" aria-label="Permalink to &quot;5.配置环境变量&quot;">​</a></h2><p>安装完成后，确保<code>~/.cargo/bin</code>目录被添加到PATH环境变量中。</p><h3 id="配置工具链安装位置" tabindex="-1">配置工具链安装位置 <a class="header-anchor" href="#配置工具链安装位置" aria-label="Permalink to &quot;配置工具链安装位置&quot;">​</a></h3><p>在系统环境变量中添加如下变量：</p><p><code>CARGO_HOME</code> 指定 <code>cargo</code> 的安装目录</p><p><code>RUSTUP_HOME</code> 指定 <code>rustup</code> 的安装目录</p><p>默认分别安装到用户目录下的<code>.cargo</code> 和<code>.rustup</code> 目录</p><h2 id="_6-配置国内镜像" tabindex="-1">6.配置国内镜像 <a class="header-anchor" href="#_6-配置国内镜像" aria-label="Permalink to &quot;6.配置国内镜像&quot;">​</a></h2><p>为了提高下载速度，你可以配置Rust和cargo的国内镜像源。</p><h3 id="_1-配置-rustup-国内镜像" tabindex="-1">1). 配置 rustup 国内镜像 <a class="header-anchor" href="#_1-配置-rustup-国内镜像" aria-label="Permalink to &quot;1). 配置 rustup 国内镜像&quot;">​</a></h3><p>在系统环境变量中添加如下变量（选一个就可以，可以组合）：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 清华大学</span></span>
<span class="line"><span style="color:#61AFEF;">RUSTUP_DIST_SERVER：https://mirrors.tuna.tsinghua.edu.cn/rustup</span></span>
<span class="line"><span style="color:#61AFEF;">RUSTUP_UPDATE_ROOT：https://mirrors.tuna.tsinghua.edu.cn/rustup/rustup</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 中国科学技术大学</span></span>
<span class="line"><span style="color:#61AFEF;">RUSTUP_DIST_SERVER：https://mirrors.ustc.edu.cn/rust-static</span></span>
<span class="line"><span style="color:#61AFEF;">RUSTUP_UPDATE_ROOT：https://mirrors.ustc.edu.cn/rust-static/rustup</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-配置-cargo-国内镜像" tabindex="-1">2). 配置 cargo 国内镜像 <a class="header-anchor" href="#_2-配置-cargo-国内镜像" aria-label="Permalink to &quot;2). 配置 cargo 国内镜像&quot;">​</a></h3><p>在 cargo 安装目录下新建 config 文件（注意 config 没有任何后缀），文件内容如下：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">[source.crates-io]</span></span>
<span class="line"><span style="color:#61AFEF;">registry</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> &quot;https://github.com/rust-lang/crates.io-index&quot;</span></span>
<span class="line"><span style="color:#61AFEF;">replace-with</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> &#39;tuna&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 清华大学</span></span>
<span class="line"><span style="color:#ABB2BF;">[source.tuna]</span></span>
<span class="line"><span style="color:#61AFEF;">registry</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> &quot;https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 中国科学技术大学</span></span>
<span class="line"><span style="color:#ABB2BF;">[source.ustc]</span></span>
<span class="line"><span style="color:#61AFEF;">registry</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> &quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 设置代理</span></span>
<span class="line"><span style="color:#ABB2BF;">[http]</span></span>
<span class="line"><span style="color:#61AFEF;">proxy</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> &quot;127.0.0.1:8889&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">[https]</span></span>
<span class="line"><span style="color:#61AFEF;">proxy</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> &quot;127.0.0.1:8889&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="_7-交叉编译配置-可选" tabindex="-1">7.交叉编译配置（可选） <a class="header-anchor" href="#_7-交叉编译配置-可选" aria-label="Permalink to &quot;7.交叉编译配置（可选）&quot;">​</a></h2><p>如果需要进行交叉编译，可以安装相应的target和工具链。</p><h3 id="windows-交叉编译-linux-程序" tabindex="-1">Windows 交叉编译 Linux 程序 <a class="header-anchor" href="#windows-交叉编译-linux-程序" aria-label="Permalink to &quot;Windows 交叉编译 Linux 程序&quot;">​</a></h3><p>目标服务器是 <code>Linux(CentOS 7) 64bit</code>, 所以我们添加的 target 应该是<code>x86_64-unknown-linux-gnu</code>(动态依赖) 或者<code>x86_64-unknown-linux-musl</code>（静态依赖）</p><p>解释：</p><ul><li>动态依赖：目标服务器需要包含动态依赖的相关库（用户共享库）</li><li>静态依赖，目标服务器不需要包含相应的库，但是打包文件会更大些 1). 添加需要的 target</li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> target</span><span style="color:#98C379;"> add</span><span style="color:#98C379;">  x86_64-unknown-linux-musl</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2). 在 cargo 安装目录下新建 config 文件（注意 config 没有任何后缀），添加的文件内容如下：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">[target.x86_64-unknown-linux-musl]</span></span>
<span class="line"><span style="color:#61AFEF;">linker</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> &quot;rust-lld&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>3). 构建</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">cargo</span><span style="color:#98C379;"> build</span><span style="color:#D19A66;"> --target</span><span style="color:#98C379;"> x86_64-unknown-linux-musl</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="rustup命令相关" tabindex="-1">rustup命令相关 <a class="header-anchor" href="#rustup命令相关" aria-label="Permalink to &quot;rustup命令相关&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 显示当前安装的工具链信息</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> show</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 检查安装更新</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> update</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 卸载</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> self</span><span style="color:#98C379;"> uninstall</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 设置当前默认工具链</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> default</span><span style="color:#98C379;"> stable-x86_64-pc-windows-gnu</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查看帮助</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#D19A66;"> -h</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># --------------------------&gt;配置工具链</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查看工具链</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> toolchain</span><span style="color:#98C379;"> list</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 安装工具链</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> toolchain</span><span style="color:#98C379;"> install</span><span style="color:#98C379;"> stable-x86_64-pc-windows-gnu</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 卸载工具链</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> toolchain</span><span style="color:#98C379;"> uninstall</span><span style="color:#98C379;"> stable-x86_64-pc-windows-gnu</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 设置自定义工具链</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> toolchain</span><span style="color:#98C379;"> link</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">toolchain-nam</span><span style="color:#ABB2BF;">e&gt; </span><span style="color:#98C379;">&quot;&lt;toolchain-path&gt;&quot;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># --------------------------&gt;配置一个目录以及其子目录的默认工具链</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查看已设置的默认工具链</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> override</span><span style="color:#98C379;"> list</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 设置该目录以及其子目录的默认工具链</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> override</span><span style="color:#98C379;"> set</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">toolchai</span><span style="color:#ABB2BF;">n&gt; </span><span style="color:#D19A66;">--path</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">pat</span><span style="color:#ABB2BF;">h&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 取消目录以及其子目录的默认工具链</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> override</span><span style="color:#98C379;"> unset</span><span style="color:#D19A66;"> --path</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">pat</span><span style="color:#ABB2BF;">h&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># --------------------------&gt;配置工具链的可用目标</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查看目标列表</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> target</span><span style="color:#98C379;"> list</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 安装目标</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> target</span><span style="color:#98C379;"> add</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">targe</span><span style="color:#ABB2BF;">t&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 卸载目标</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> target</span><span style="color:#98C379;"> remove</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">targe</span><span style="color:#ABB2BF;">t&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 为特定工具链安装目标</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> target</span><span style="color:#98C379;"> add</span><span style="color:#D19A66;"> --toolchain</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">toolchai</span><span style="color:#ABB2BF;">n&gt; &lt;</span><span style="color:#98C379;">targe</span><span style="color:#ABB2BF;">t&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># --------------------------&gt;配置 rustup 安装的组件</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查看可用组件</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> component</span><span style="color:#98C379;"> list</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 安装组件</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> component</span><span style="color:#98C379;"> add</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">componen</span><span style="color:#ABB2BF;">t&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 卸载组件</span></span>
<span class="line"><span style="color:#61AFEF;">rustup</span><span style="color:#98C379;"> component</span><span style="color:#98C379;"> remove</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">componen</span><span style="color:#ABB2BF;">t&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>rustc 相关</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 查看rustc版本</span></span>
<span class="line"><span style="color:#61AFEF;">rustc</span><span style="color:#D19A66;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="cargo-常用" tabindex="-1">cargo 常用 <a class="header-anchor" href="#cargo-常用" aria-label="Permalink to &quot;cargo 常用&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 查看cargo版本</span></span>
<span class="line"><span style="color:#61AFEF;">cargo</span><span style="color:#D19A66;"> --version</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 新建项目</span></span>
<span class="line"><span style="color:#61AFEF;">cargo</span><span style="color:#98C379;"> new</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">project_nam</span><span style="color:#ABB2BF;">e&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 构建项目</span></span>
<span class="line"><span style="color:#61AFEF;">cargo</span><span style="color:#98C379;"> build</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 运行项目</span></span>
<span class="line"><span style="color:#61AFEF;">cargo</span><span style="color:#98C379;"> run</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 检查项目</span></span>
<span class="line"><span style="color:#61AFEF;">cargo</span><span style="color:#98C379;"> check</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查看帮助</span></span>
<span class="line"><span style="color:#61AFEF;">cargo</span><span style="color:#D19A66;"> -h</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="最全cargo-命令" tabindex="-1">最全cargo 命令 <a class="header-anchor" href="#最全cargo-命令" aria-label="Permalink to &quot;最全cargo 命令&quot;">​</a></h3><p>文档：</p><p>涵盖了从项目创建到开发、测试、文档生成、安全审核、代码格式化和发布的各个方面。这些命令的完整细节和更多选项可以在 Cargo 的官方文档或相应的第三方文档中找到。</p><table><thead><tr><th>命令</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>cargo new</code></td><td>创建一个新的 Rust 项目</td><td><code>cargo new my_project</code></td></tr><tr><td><code>cargo build</code></td><td>编译项目和其依赖</td><td><code>cargo build --release</code></td></tr><tr><td><code>cargo run</code></td><td>编译并运行 Rust 项目</td><td><code>cargo run</code></td></tr><tr><td><code>cargo test</code></td><td>运行项目的测试</td><td><code>cargo test</code></td></tr><tr><td><code>cargo doc</code></td><td>为项目的依赖生成文档</td><td><code>cargo doc --open</code></td></tr><tr><td><code>cargo update</code></td><td>更新 <code>Cargo.lock</code> 文件中的依赖版本</td><td><code>cargo update</code></td></tr><tr><td><code>cargo check</code></td><td>快速检查代码能否编译</td><td><code>cargo check</code></td></tr><tr><td><code>cargo clean</code></td><td>清除编译生成的文件</td><td><code>cargo clean</code></td></tr><tr><td><code>cargo publish</code></td><td>将包发布到 crates.io</td><td><code>cargo publish</code></td></tr><tr><td><code>cargo bench</code></td><td>运行基准测试</td><td><code>cargo bench</code></td></tr><tr><td><code>cargo fetch</code></td><td>下载项目依赖的 crate，但不进行编译</td><td><code>cargo fetch</code></td></tr><tr><td><code>cargo install</code></td><td>安装和管理 Rust 二进制文件</td><td><code>cargo install [crate_name]</code></td></tr><tr><td><code>cargo uninstall</code></td><td>卸载通过 Cargo 安装的 Rust 二进制文件</td><td><code>cargo uninstall [crate_name]</code></td></tr><tr><td><code>cargo package</code></td><td>准备一个本地 crate 以便发布</td><td><code>cargo package</code></td></tr><tr><td><code>cargo search</code></td><td>在 crates.io 上搜索 crate</td><td><code>cargo search [search_query]</code></td></tr><tr><td><code>cargo login</code></td><td>使用 API token 登录 crates.io</td><td><code>cargo login [token]</code></td></tr><tr><td><code>cargo owner</code></td><td>管理 crate 的所有者</td><td><code>cargo owner --add [username]</code></td></tr><tr><td><code>cargo init</code></td><td>在现有目录中初始化新的 Rust 项目</td><td><code>cargo init my_project</code></td></tr><tr><td><code>cargo version</code></td><td>显示 Cargo 的版本信息</td><td><code>cargo version</code></td></tr><tr><td><code>cargo vendor</code></td><td>将所有依赖复制到本地目录</td><td><code>cargo vendor</code></td></tr><tr><td><code>cargo metadata</code></td><td>输出 JSON 格式的项目元数据</td><td><code>cargo metadata</code></td></tr><tr><td><code>cargo tree</code></td><td>显示项目依赖树</td><td><code>cargo tree</code></td></tr><tr><td><code>cargo fix</code></td><td>自动修复 Rust 代码中的警告</td><td><code>cargo fix</code></td></tr><tr><td><code>cargo audit</code></td><td>审核 Cargo.lock 以查找不安全的依赖</td><td><code>cargo audit</code></td></tr><tr><td><code>cargo rustc</code></td><td>提供对 rustc 编译器参数的访问</td><td><code>cargo rustc -- [options]</code></td></tr><tr><td><code>cargo rustdoc</code></td><td>为项目运行 rustdoc 工具</td><td><code>cargo rustdoc -- [options]</code></td></tr><tr><td><code>cargo clippy</code></td><td>运行 clippy 来进行代码审查</td><td><code>cargo clippy</code></td></tr><tr><td><code>cargo fmt</code></td><td>使用 rustfmt 格式化代码</td><td><code>cargo fmt</code></td></tr><tr><td><code>cargo miri</code></td><td>运行 miri 以执行内存安全检查</td><td><code>cargo miri test</code></td></tr><tr><td><code>cargo outdated</code></td><td>检查过时的依赖</td><td><code>cargo outdated</code></td></tr><tr><td><code>cargo release</code></td><td>自动化 crate 发布流程</td><td><code>cargo release</code></td></tr><tr><td><code>cargo add</code></td><td>向 Cargo.toml 添加新依赖</td><td><code>cargo add [crate_name]</code></td></tr><tr><td><code>cargo rm</code></td><td>从 Cargo.toml 中移除依赖</td><td><code>cargo rm [crate_name]</code></td></tr><tr><td><code>cargo upgrade</code></td><td>升级 Cargo.toml 的依赖版本</td><td><code>cargo upgrade [crate_name]</code></td></tr></tbody></table><p>请注意，一些命令如 <code>cargo audit</code>, <code>cargo clippy</code>, <code>cargo fmt</code>, <code>cargo miri</code>, <code>cargo outdated</code>, <code>cargo release</code>, <code>cargo add</code>, <code>cargo rm</code>, 和 <code>cargo upgrade</code> 实际上是由第三方提供的 Cargo 扩展（也称为 &quot;cargo 子命令&quot;），并可能需要单独安装。</p><h2 id="配置-vscode-开发环境" tabindex="-1">配置 VSCode 开发环境 <a class="header-anchor" href="#配置-vscode-开发环境" aria-label="Permalink to &quot;配置 VSCode 开发环境&quot;">​</a></h2><p>配置开发环境相当简单，只要安装以下插件即可：</p><p>rust-analyzer</p><p>Rust Syntax</p><p>Rust Extension Pack</p><p>Rust Doc Viewer</p><p>Rust Assist</p>`,86),p=[o];function r(c,d,i,u,b,y){return n(),a("div",null,p)}const m=s(l,[["render",r]]);export{g as __pageData,m as default};
